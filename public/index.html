<!DOCTYPE html>
<html lang="en">

<head>
  <title>botapiuser</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/x-icon" href="//v4.loopback.io/favicon.ico">

  <style>
    h3 {
      margin-left: 25px;
      text-align: center;
    }

    a,
    a:visited {
      color: #3f5dff;
    }

    h3 a {
      margin-left: 10px;
    }

    a:hover,
    a:focus,
    a:active {
      color: #001956;
    }

    .power {
      position: absolute;
      bottom: 25px;
      left: 50%;
      transform: translateX(-50%);
    }

    .info {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%)
    }

    .info h1 {
      text-align: center;
      margin-bottom: 0;
    }

    .info p {
      text-align: center;
      margin-bottom: 3em;
      margin-top: 1em;
    }
  </style>
</head>

<body>
  <div class="info">
    <h1>kerzachi</h1>
    <p>Version 1.0.0</p>

    <h3>OpenAPI spec: <a href="/openapi.json">/openapi.json</a></h3>
    <h3>API Explorer: <a href="/explorer">/explorer</a></h3>
  </div>

  <form action="/iblocks" method="POST" enctype="multipart/form-data" onsubmit="return send(this);">
    <input type="hidden" name="bot" value="773534786" />
    <input name="title" />
    <button type="submit">submit</button>
  </form>

  <h3>Item</h3>
  <form action="/items" method="POST" enctype="multipart/form-data" onsubmit="return sendFD(this);">
    <input type="file" name="images" multiple />
    <input type="hidden" name="bot" value="773534786" />
    <button type="submit">submit</button>
  </form>
  <h3>Category</h3>
  <form action="/categories" method="POST" enctype="multipart/form-data" onsubmit="return send(this);">
    <input type="hidden" value="5d09295b3704e725a0428fd2" name="iblock" />
    <input name="title" />
    <button type="submit">submit</button>
  </form>
  <footer class="power">
    <a href="https://v4.loopback.io" target="_blank">
      <img src="https://loopback.io/images/branding/powered-by-loopback/blue/powered-by-loopback-sm.png" />
    </a>
  </footer>
  <script async src="https://telegram.org/js/telegram-widget.js?5" data-telegram-login="AuthRafBot" data-size="large"
    data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
  <script type="text/javascript">
    function onTelegramAuth(user) {
      console.log(user);
    }
    function sendFD(form) {
      var formData = new FormData(form);
      var request = new XMLHttpRequest();
      try {
        request.open("POST", form.action);
        request.setRequestHeader('authorization', 'f97dd5eebc002249f3babf43d8e1485eb676d67f3297937ddfbc3e3643aca94f');
      } catch (e) {
        console.log(e)
      }
      request.send(formData);
      return false
    }

    function send(form) {
      var formData = new FormData(form);
      var request = new XMLHttpRequest();
      try {
        request.open("POST", form.action);
        request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        request.setRequestHeader('authorization', 'f97dd5eebc002249f3babf43d8e1485eb676d67f3297937ddfbc3e3643aca94f');
      } catch (e) {
        console.log(e)
      }
      var object = {};
      formData.forEach(function (value, key) {
        object[key] = Number.isInteger(value) ? parseInt(value) : value;
      });
      request.send(JSON.stringify(object));
      return false
    }
  </script>
</body>

</html>
